# Стайлгайд_Драфт

## Цель разработки

Стайлгайд преследует следующие цели:

1.	Повысить полноту и качество документации программных продуктов и снизить затраты на разработку документации.
2.	Минимизировать расхождение версии программного продукта и документации на него.
3.	Унифицировать номенклатуру, структуру и содержание эксплуатационной документации, поставляемую на программный продукт.
4.	Учесть требования кибербезопасности, предъявляемые к документации.
5.	Регламентировать соблюдение правил и требований регуляторов, которые необходимы для прохождения регистрации и сертификации программных продуктов в различных инстанциях и организациях.

## Принципы ведения документации

1.	Документация должна составляться на русском языке с возможностью употребления в тексте англоязычных специализированных терминов (перевод англоязычных специализированных терминов не требуется).
2.	Тексты документации создаются уникальными. Дублировать один и тот же текст в разных частях документации разрешается. дополнительно разрешается ставить ссылку на оригинальный текст.
3.	Исходные коды документации должны вестись в любой системе контроля версий исходного кода.
4.	Документация на каждую версию программного продукта может быть размещена в архиве с документацией. Пример структуры документации приведен в (поставить ссылку на пример размещения). 
5.	В документацию запрещено включать:

*	любые ссылки на ресурсы, не доступные сторонним клиентам;

*	персональные данные сотрудников, заказчиков, клиентов (ФИО и другие) и их контактную информацию, логины, пароли, личные e-mail;

*	 любую календарную информацию (планы, роадмапы и т.д.);

*	IP-адреса, ссылки на внутренние ресурсы.

6.	В документации не рекомендуется использовать жаргонизмы.
7.	Наименования программных продуктов в документации рекомендуется описывать в соответствие коммерческим наименованиям из Реестра программных продуктов (РРПО\ЕРРПО) на момент выпуска соответствующих версий.
8.	Наименования внешних программных продуктов необходимо приводить в точном соответствии с их коммерческим названием, которое используется на официальном сайте производителя этого ПО.
9.	Документация должна отвечать требованиям, которые предъявляются при подготовке комплекта документации для регистрации в реестре отечественного ПО: правила описания технологического стека, системных требований, платформенных зависимостей и другие требования.
10.	Все термины, сокращения и аббревиатуры должны быть расшифрованы. Расшифровка допустима в разделе документа «Термины и определения», также может быть приведена в тексте документа при первом упоминании термина/сокращения/аббревиатуры.

## Примеры в документации
1.	В документацию рекомендуется включать примеры команд, кода, конфигурационных файлов и прочего, что может улучшить понимание соответствующего аспекта.
2.	Примеры могут быть размещены внутри текста документа в виде отдельного текстового блока кода, или в отдельном файле в составе комплекта документации.
3.	При размещении внутри документа блок кода не должен превышать 50 строк. Примеры свыше 50 строк следует размещать в отдельном файле и давать на него ссылку из документа.
4.	Примеры команд должны содержать разъяснения к опциям и параметрам в основном тексте документа.
5.	Примеры кода и конфигурационных файлов должны содержать комментарии к строкам кода. Исключение составляют случаи, когда комментарии приведены до или после блока кода в основном тексте документа.
6.	Примеры быть шаблонизированными и работоспособными. желательно протестировать их так же, как и код продукта.
7.	Cодержание папки с документацией может быть предложено в следующем варианте (просто пример, нужно подумать над структурой),
```
   ├─ documents/         // Папка с документами
   |   ├─ architecture/  
   |   ├─ installation-guide/ 
   |   ├─ administration-guide/ 
   |   ├─ developer-guide/ 
   |   ├─ operators-guide/
   |   ├─ security-guide/  
   |   ├─ pmi/ 
   |   ├─ release-notes/ 
   ├─ examples/          // Папка с примерами, используемыми в документации
   |   ├─ example_1.ext        // Файл с примером конфигурации или кода объемом свыше 30 строк
   |   ├─ example_2.zip        // Архив с maven-проектом демонстрационного приложения
   ├─ info/           // Папка с машиночитаемыми файлами документации
   |   ├─ platform-component-version.json
   |   ├─ deployment-units.json
   |   ├─ platform-component-integration-cases.json 
   ├─ reports/          // Папка с отчетами, предоставляемыми в составе документации
   |   ├─ XYZA-load-testing-report.json 
   |   ├─ license-report.json
   ├─ apis/           // Папка с документацией на API
       ├─ {api-name_1}-{version}/
       ├─ {api-name_2}-{version}/

```
8.	Допускается использовать загшлушки вместо IP.
9.	Демонстрационные приложения должны размещаться в папке /examples, а в тексте документации должна быть ссылка на них с комментариями о содержимом и порядке использования.

## Номенклатура документации

1.	Детальная архитектура.
2.	Руководство по установке.
3.	Руководство по системному администрированию.
4.	Руководство прикладного разработчика.
5.	Руководство оператора.
6.	Документация на публичные API.
7.	Руководство по безопасности.
8.	Программа и методика испытаний.
9.	Примечания к релизу.
10.	Отчет о лицензиях используемого ПО.
Примечания:
*·*	Указанный состав документации является необходимым в случае применимости к данному программному компоненту.
*·*	В зависимости от особенностей ПО допускается вводить дополнительные документы или отдельные разделы документов.

## Номенклатура документации на программный продукт (ФСТЭК)

1.	Описание.
2.	Диаграммы развертывания.
3.	Руководство по установке.
4.	Программа и методика испытаний.
5.	Методика расчета сайзинга. 
6.	Примечания к релизу.
3.3. Номенклатура документации на программное обеспечение, проходящее сертификацию ФСТЭК
1.	Технические условия.
2.	Формуляр.
3.	Руководство администратора.
4.	Руководство пользователя.
5.	Функциональная спецификация.
6.	Эскизный проект.
7.	Технический проект.
8.	Представление реализации.
9.	Описание архитектуры безопасности.
10.	Тестовая документация.
11.	Безопасность разработки.
12.	Средства, применяемые для разработки.
13.	Управление конфигурацией.
14.	Анализ скрытых каналов.
15.	Модель безопасности.
16.	Моделирование угроз
17.	Задание по безопасности
18.	Извещение об изменении 

**Примечания:**
*	Приведенный выше состав документации разрабатывается только на программное обеспечение, реализующее функции защиты информации (далее — ПО СЗИ). Получить информацию о необходимости прохождения сертификации ПО СЗИ во ФСТЭК России можно в Реестре программных продуктов (атрибут «СЗИ»).
* Документы 1-14 являются обязательными к разработке для ПО СЗИ. Документ 15 «Модель безопасности» является обязательным к разработке для тех ПО СЗИ, у которых в разделе 2 Технических условий (в требованиях по безопасности информации) содержится требование с идентификатором УПД.2.

* Если программный продукт является ПО СЗИ, подлежащим обязательной сертификации по требованиям безопасности в системе сертификации ФСТЭК России, на него должны быть разработаны два комплекта документации: для ПО.

* В зависимости от особенностей ПО СЗИ допускается вводить дополнительные документы или отдельные разделы документов.

* Задание по безопасности разрабатывается для следующих СЗИ: ОС, МЭ, средств антивирусной защиты, средств контроля съемных машинных носителей информации, средств доверенной загрузки и систем обнаружения вторжений. В зависимости от типа СЗИ (тип «А», тип «Б» и т.д.) и Уровня доверия (уровня защиты) выбирается соответствующий Профиль Защиты (ПЗ), в соответствии с которым разрабатывается ЗБ. Перечень ПЗ приведен на сайте ФСТЭК России: https://fstec.ru/tekhnicheskaya-zashchita-informatsii/dokumenty-po-sertifikatsii/120-normativnye-dokumenty*·	Извещение об изменении разрабатывается только в случае внесения изменений в сертифицированное ПО СЗИ (пересертификации) согласно п. 71-75 Положения о сертификации (Приказ №55 ФСТЭК России).

## Расположение документации в архиве документации (выбор папки версии продукта или компонента зависит от типа ПО СЗИ проходящего сертификацию)

Документ/Формат/Подкаталог/Содержание подкаталога/Технические условия/Markdown./documents/

technical-requirements-fstec/md	./name.md./resources/
файлы секций документа (section-id.md)

`Здесь можно вписать пример, как располагается документация.`

## Расположение дополнительной документации в архиве документации

Документация может включать в себя дополнительную документацию, которая должна находиться в папке версии программного продукта.

## Расположение дополнительной документации в архиве документации

Документ/Формат/Подкаталог/Содержание/Дополнительный документ/Markdown./documents/document-id/.../md/name.md ./md/resources/
файлы секций документа (section-id.md)

## Требования к файлам name.md и файлам секций

1. Файл name.md

* Заголовок первого уровня (#) должен содержать название документа по стандарту.

* Заголовок второго уровня (##) должен называться «Содержание»

* Текст под заголовком «Содержание» должен представлять собой ненумерованный список ссылок на секции соответствующего документа с указанием их названия.Список может быть иерархическим. Рекомендуется не более трех уровней вложенности.

**Пример файла name.md**

```
# Детальная архитектура `(можно ввести подобный документ, для предоставления заказачикам)`
## Содержание
+ [Назначение](introduction.md)
   + [Цель создания](objective.md)
   + [Концептуальная модель предметной области](conceptual-model.md)
   + [Основные функции](functions.md)
   + [Варианты использования](use-cases.md)
   + [Сценарии использования](scenarios.md)
      + [Название конкретного сценария 1](scenario_NAME1.md)
      + [Название конкретного сценария 2](scenario_NAME2.md)
   + [Нефункциональные требования к программному компоненту](non-functional-requirements.md)
   
   ```

## Контент документа

1. Разрешается добавлять разделы и подразделы так, чтобы информации документа было достаточно для решения задач, которые преследует соответствующий документ.
2. Для каждого документа приведена структура и содержание обязательных разделов.

**Пример приведен на предыдущем опыте. Пример:**

Документ «Детальная архитектура» (architecture)
1 Назначение (introduction)

   1.1 Цель создания (objective) излагается в одном-двух предложениях и отвечает на вопросы: «Зачем существует программный компонент? Какую потребность закрывает (какие задачи потребителя решает)?».

   1.2 Концептуальная модель предметной области (conceptual-model) в виде диаграммы классов UML.

   1.3 Основные функции (functions) В разделе перечисляются сущностные функции компонента в виде таблицы из следующих столбцов:
* Название функции — описывает действие, которое выполняет функция
* Потребитель функции
* Аргументы функции
* Результат — под результатом необходимо понимать изменение состояния системы под действием функции и/или возвращаемое значение функции и/или делегирование некоторого действия внешней системе.

   1.4 Варианты использования (use-cases) в виде use case диаграммы UML.

   1.5 Сценарии использования (scenarios) для каждого варианта использования из use case диаграммы (с указанием названия use case), описанные по пронумерованным шагам, где каждый шаг должен формулироваться в терминах (актор из use case диаграммы передает в программный компонент некоторые данные с их названием, или программный компонент передает в актора некоторые данные). Помимо основных сценариев должны быть названы и описаны альтернативные и исключительные сценарии по аналогии с основным сценарием.

   1.6 Нефункциональные требования к программному компоненту (non-functional-requirements). В разделе должны быть перечислены нефункциональные особенности ПО, в том числе время отклика (latency), пропускная способность (throughput), объем одной транзакции, безопасность и т.д. Значения величин должны указываться с единицами их измерения. Для каждого значения должны быть определены условия его достижения (специфика окружения, конфигурации и т.д.).

2 Структура (structure)

   2.1 Компонентно-логическая диаграмма (logic-diagram) в виде класс-диаграммы UML, на которой все компоненты ПО сгруппированы в прямоугольник, а другие акторы вынесены за его пределы, связи между акторами и компонентами, а также между компонентами должны быть в виде направленной ассоциации (стрелка от вызывающей к вызываемой стороне) с указанием протокола взаимодействия, в случае, если несколько компонентов реализуют один и тот же интерфейс, ассоциация должна быть направлена на интерфейс, а между интерфейсом и компонентами его реализующими должна быть указана связь реализации.
   2.2 Компоненты ПО (components) в виде таблицы, которая содержит следующие столбцы:

* Название компонента

   2.3 Интерфейсы (interfaces) с указанием их идентификаторов, названий и перечислением реализующих их компонентов. Для каждого интерфейса должны быть указаны названия операций с указанием их сигнатуры.
   2.4 Логическая модель базы данных (db-logic-model) (или любого хранилища, при его наличии, в Crow’s Foot нотации).
   2.5 Физическая модель базы данных (db-physical-model) (или любого хранилища, при его наличии, в Crow’s Foot нотации).
   2.6 Элементы развертывания (deployment-elements) в виде таблицы из следующих столбцов:

* Название элемента развертывания

* Тип

* Названия компонентов, входящих в данный элемент развертывания

Среда исполнения.

   2.7 Диаграммы развертывания (deployment-diagrams)Раздел должен содержать возможные схемы развертывания ПО. Каждая схема должна помещаться в отдельный подраздел.

Экземпляры среды исполнения (серверы приложений, системы управления базами данных, брокеры сообщений, среда контейнеризации и т.д.) в виде прямоугольников. Со следующими обязательными атрибутами, указанными внутри соответствующих прямоугольников:

* Название среды исполнения.

* Идентификатор экземпляра среды исполнения.

* Неймспейс (для Openshift, K8S).

Экземпляры элементов развертывания компонента (экземпляры приложения, экземпляры баз данных, очереди, pod и т.д.) в виде прямоугольников, расположенных внутри прямоугольников, которые изображают экземпляры сред исполнения соответствующих экземпляров элементов развертывания компонента. Со следующими обязательными атрибутами, расположенными внутри соответствующих прямоугольников:

* Идентификатор экземпляра развертывания компонента.

* Идентификатор экземпляра элемента развертывания компонента.

* API провайдеров, которые необходимы для функционирования ПО, в виде прямоугольников.

**Взаимодействия (interactions)**
 
 В разделе могут быть описаны взаимодействия внутри ПО и акторов (из вариантов использования) 
* Потребитель — актор или инициатор взаимодействия.

* Поставщик — ссылка на API актора или название интерфейса компонента.

* Момент взаимодействия — старт приложения, выполнение приложения, оба.

* Протокол передачи данных — HTTP, UDP, FTP и др.

* Технология взаимодействия — REST, SOAP и др.

* Протокол шифрования — TLS, SSL и др., если это может быть указано.

* Электронная подпись — используется (с указанием типа) или не используется для передаваемых сообщений.

   3.2 Диаграммы последовательностей (sequence-diagram) для каждого сценария использования ПО в виде диаграмм последовательностей UML. Диаграмма может содержать компоненты ПО, акторов из use case диаграммы и название операций из раздела «Интерфейсы» документа «Детальная архитектура».

   3.3 Механизмы безопасности (security-mechanisms). В разделе должны быть описаны механизмы безопасности ПО: идентификация, аутентификация (пользовательская и межсервисная), авторизация (включая модель предоставления доступа), механизм разграничения доступа к интерфейсам, хранимым данным, обрабатываемым данным, обеспечение целостности данных (хэш, ЭП), защита данных, передаваемых по сети, аудит.

3.4 Прочие поведенческие механизмы (other-behavior-mechanisms)   В разделе должны быть описаны: кеширование и конфигурирование компонентов, обеспечение согласованности данных и прочее.

4 Прочие аспекты (other-issues)

   4.1 Варианты работы в различном окружении (different-environment-scenarios)
   4.2 Сценарии отказа (failure-scenarios)  в виде таблицы:

* Название компонента — компонент ПО или внешней системы, или внешнего компонента платформы, от которой зависит программный компонент.

* Последствия отказа — потеря функциональности ПО при недоступности компонента.

* Компенсирующие механизмы.

   4.3 Системное программное обеспечение (system-software)Раздел должен содержать список системного программного обеспечения, поддерживаемого программным компонентом, такое как: типы контейнеризации, СУБД, серверы приложений и пр.

## Документ «Руководство по установке» (installation-guide)

Предлагаемые разделы соответствуют ISO

1. Системные требования (system-requirements).
В разделе должны быть перечислены пре-реквизиты и требования к окружению (программному и аппаратному) для установки ПО, в том числе рекомендуемые настройки безопасности окружения. Также в разделе должен быть представлен перечень внешних продуктов, используемых для установки, настройки и контроля с указанием выполняемых ими функций.

2. Установка (installation).
В разделе должен быть по шагам описан процесс установки ПО и всех входящих в его состав компонентов, включая рекомендованные настройки. Также должен быть приведен порядок и параметры настройки механизмов безопасности, реализуемых программным компонентом (при наличии). Рекомендации по эффективному использованию механизмов безопасности должны быть дополнены примером типовой конфигурации (конфигурационный файл).Также должен быть приведен порядок установки и параметры настройки программного и аппаратного обеспечения среды функционирования: операционная система, иное системное ПО (настройки СУБД, сервера приложений, веб-сервера, иные необходимые сервисы, используемые сетевые порты, права пользователей, права доступа к файлам и каталогам, аудит и т.п.), программные и программно-аппаратные СЗИ и СКЗИ (при наличии), серверное и сетевое оборудование, оборудование АРМ пользователей (при наличии).

3. Обновление (update).
В разделе должен быть описан по шагам процесс обновления ПО на текущую версию.

4. Удаление (remove).
В разделе должен быть описан по шагам процесс удаления ПО.

5. Проверка работоспособности (health-check).
Раздел должен содержать чек-лист проверки корректности работы ПО. Должно быть описание процесса проверки для каждого пункта чек-листа. Чек-лист должен также включать в себя проверки корректной конфигурации механизмов безопасности.

6. Откат (rollback).
В разделе должна быть описана стратегия отката программного продукта на предыдущую версию.

7. Часто встречающиеся проблемы и пути их устранения (faq) и/или Устранение проблем (Troubleshooting).
В разделе должны быть собраны наиболее частые проблемы, возникающие при установке ПО, и описаны пути их устранения.

8. Чек-лист валидации установки (installation-validation)
Раздел должен содержать чек-лист, по которому можно проверить, что все необходимые действия по установке ПО были произведены (например: создана схема с именем ххх, …).


## Документ «Руководство по системному администрированию» (administration-guide)

Предлагаемые разделы соответствуют ISO

1. Сценарии администрирования (administration-scenarios).
В разделе должны быть описаны сценарии администрирования ПО. Раздел должен содержать описание механизмов безопасности, относящихся к сценариям администрирования, рекомендации по эффективной настройке механизмов безопасности (например: рекомендации по заданию стойких паролей, практика пересмотра и смены пароля, предполагаемая частота создания резервных копий файлов пользователей, особенности работы компонента при неуказанных значениях различных параметров и др.). Рекомендации по эффективному использованию механизмов безопасности должны быть дополнены примером типовой конфигурации (конфигурационный файл).

2. События системного журнала (system-log-events).
В разделе должны быть перечислены события системного журнала, порождаемые программным компонентом.

3. События мониторинга (monitoring-events)В разделе должны быть перечислены события мониторинга, порождаемые программным компонентом, с указанием их атрибутов.

4. Часто встречающиеся проблемы и пути их устранения (faq) и/или Устранение проблем (Troubleshooting).
В разделе должны быть собраны наиболее частые проблемы, возникающие при установке ПО, и описаны пути их устранения.

## Документ «Руководство прикладного разработчика» (developer-guide)

Предлагаемые разделы соответствуют ISO

1. Системные требования (system-requirements).
Пре-реквизиты и требования к окружению для использования ПО.

2. Подключение и конфигурирование (configuration).
Раздел должен содержать информацию о способах подключения и конфигурирования ПО для промышленной среды и среды разработки.

3. Миграция на текущую версию (migration-guide).
В разделе должны быть описаны шаги перехода на текущую версию ПО.

4. Быстрый старт (quick-start).
Данный раздел должен содержать простой пошаговый end-to-end пример использования ПО от подключения до вызова методов и проверки корректности работы.

5. Использование ПО (instructions).
В разделе должны быть приведены пошаговые инструкции с примерами кода для реализации различных сценариев использования ПО.

6/ Часто встречающиеся проблемы и пути их устранения (faq) и/или Устранение проблем (Troubleshooting).
В разделе должны быть собраны наиболее частые проблемы, возникающие при установке ПО, и описаны пути их устранения.

## Документ «Руководство оператора» (operators-guide)

1. Доступ к приложению (access).
В разделе должны быть описаны шаги получения доступа к приложению (запуск приложения, вход в приложение в случае веб-приложения).

2. Использование приложения оператором (instructions).
В разделе должны быть описаны сценарии использования приложения оператором, а также механизмы безопасности, относящиеся к этим сценариям использования, рекомендации по их эффективному использованию (например: рекомендации по заданию стойких паролей, практика пересмотра и смены пароля, предполагаемая частота создания резервных копий файлов пользователей, особенности работы ПО при не указанных значениях различных параметров и др.).

3. Часто встречающиеся проблемы и пути их устранения (faq) и/или Устранение проблем (Troubleshooting).
В разделе должны быть собраны наиболее частые проблемы, возникающие при установке ПО, и описаны пути их устранения. Также в данном разделе должны быть описаны ситуации, связанные со сбоями или ошибками эксплуатации, их последствия, влияние на обеспечение безопасного функционирования и операции, необходимые для предотвращения возможных негативных последствий в этих ситуациях.

4. Параметры настройки (settings)В разделе должны быть приведены параметры, доступные для изменения оператору, включая параметры безопасности. Параметры безопасности (идентификация, аутентификация, авторизация, аудит, шифрование, пр.) должны быть описаны отдельно от остальных параметров настроек. Для каждого параметра должно быть приведено: название параметра, назначение параметра, рекомендуемые значения параметра, допустимый формат значений параметра.

5. Правила эксплуатации (operating-rules)В разделе должны быть отражены правила эксплуатации среды функционирования (только в части программного обеспечения) в случае влияния ее на защищаемую информацию (критичные данные) ПО. Также должны быть приведены правила эксплуатации внешних программных и программно-аппаратных средств защиты информации (при наличии), включая вопросы использования их среды функционирования в случае, если требуемые сценарии использования отличаются от описанных в документации на соответствующие средства защиты информации. Для программных компонентов, предоставляющих возможность загрузки/выгрузки информации (журналы событий, база пользователей, атрибуты доступа, ролевая модель и т.д.) в/из внешних источников (сервисы, автоматизированные системы и т.д.), необходимо описать форматы данных и наименование программного обеспечения внешних источников, а также особенности по настройке механизмов загрузки/выгрузки.

## Документация на публичные API

Документация на любой тип публичного API должна содержать примеры использования. Устаревшие API или отдельные устаревшие операции API должны помечаться как устаревшие (deprecated) используя принятый подход маркировки для соответствующего типа API.